{% autoescape off %}
{% load static %}
{% load custom_filters %}
{% block content %}

<title> Listado de Picking - {{ordenes.order_number}} </title>
<style>
    body {
        font-family: Calibri, sans-serif;
        font-size: 17px;
        margin: 0;
        padding: 0;
    }

    .content {
        min-height: 80vh; /* Ajusta el contenido para dejar espacio al pie de página */
        padding: 30px;
    }

    footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center; /* Centra el texto del footer */
            background-color: #f1f1f1;
            padding: 10px;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
        }
</style>
<div class="card shadow mb-4">
    <div class="card">
        <div class="card-header">
            <p class="lead"><strong>Fecha Pedido:</strong> {{ordenes.created_at | date:"d/m/Y" }}</p>
            <p class="lead"><strong>Pedido</strong> {{ordenes.order_number}}</p>
            <p class="lead"><strong>Nombre</strong> {{ordenes.full_name}}</p>

        </div>

        <h3 class="card-header">Productos</h3>
        <div class="card-body">

            <table>
                <thead>
                    <tr>
                        <th>Ubicación</th>
                        <th>Cantidad</th>
                        <th>Nombre del Producto</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí es donde iterarás los artículos -->
                    {% for item in ordenes_detalle %}

                    <tr>
                        <td> {{item.product.ubicacion|format_integer_def}}</td>
                        <td>{{item.quantity|format_integer_def}}</td>
                        <td>{{item.product.product_name}}
                            <p class="text-muted small">
                                    {% if item.variations.all %}
                                        {% for i in item.variations.all %}
                                            {{ i.variation_category | capfirst }} : {{ i.variation_value | capfirst }} <br>
                                        {% endfor %}
                                    {% endif %}
                                </p>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<footer>
    Página <span id="pageNumber"></span>
</footer>

<script>
    // Actualiza el número de página automáticamente
    document.getElementById('pageNumber').textContent = 1; // Aquí puedes actualizar el número de página si lo necesitas
</script>
{% endblock %}

{% endautoescape %}

